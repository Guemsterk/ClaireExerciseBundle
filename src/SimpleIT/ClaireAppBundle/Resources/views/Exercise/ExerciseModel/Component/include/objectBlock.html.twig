{% if onlyOneOccurence is not defined or onlyOneOccurence != true %}
<tr>
    <td>
        <label>Nombre de {{ objectName }} :
            <input type="text" size="20" name="{{ blocksName }}[{{ _cptBlock }}][numberOfOccurences]"
                   {% if block != NULL %}value="{{ block.numberOfOccurences }}{% endif %}"/>
        </label>
    </td>
</tr>
{% endif %}
<tr>
    <td>
        <label>
            <input type="radio" name="{{ blocksName }}[{{ _cptBlock }}][resourceOrigin]"
                   value="list"
                   {% if block != NULL and block.resources |length > 0 %}checked{% endif %}/>
        </label>
        Liste de ressources
        <label>
            <input type="radio" name="{{ blocksName }}[{{ _cptBlock }}][resourceOrigin]"
                   value="constraints"
                   {% if block != NULL and block.resources |length == 0 %}checked{% endif %}/>
        </label>
        Contraintes
    </td>
</tr>
{% if block != NULL and block.resources |length > 0 %}
    <tr>
        <td>
            <table class="resourceList">
                <tr>
                    <td><h4>Liste des ressources</h4></td>
                </tr>
                <tr>
                    <td>
                        <button type="button" class="js-add-resource">+</button>
                    </td>
                </tr>
                <tr>
                    <th>Id de ressource</th>
                </tr>
                {% for resource in block.resources %}
                    <tr>
                        <td>
                            <label>
                                <input type="text" size="20" name="{{ resourcesName }}[{{ _cptBlock }}][]" value="{{ resource.id }}"/>
                            </label>
                        </td>
                        <td>
                            <button type="button" class="js-remove-resource">-</button>
                        </td>
                    </tr>
                {% endfor %}
            </table>
        </td>
    </tr>
{% else %}
    <tr>
        <td>
            <table class="resourceList">
                <tr>
                    <td><h4>Liste des ressources</h4></td>
                </tr>
                <tr>
                    <td>
                        <button type="button" class="js-add-resource">+</button>
                    </td>
                </tr>
                <tr>
                    <th>Id de ressource</th>
                </tr>
                <tr>
                    <td>
                        <label>
                            <input type="text" size="20" name="{{ resourcesName }}[{{ _cptBlock }}][]"/>
                        </label>
                    </td>
                    <td>
                        <button type="button" class="js-remove-resource">-</button>
                    </td>
                </tr>
            </table>
        </td>
    </tr>
{% endif %}
{% if block != NULL and block.resourceConstraint != NULL %}
    <tr>
        <td>
            <table>
                <tr>
                    <td><h4>Contraintes</h4></td>
                </tr>
                {% if askType %}
                    <tr>
                        <td>
                            <label>Type :
                                <select name="type[{{ _cptBlock }}]">
                                    <option value="" {% if block.resourceConstraint.type is not defined %}selected{% endif %}></option>
                                    <option value="picture" {% if block.resourceConstraint.type is defined and block.resourceConstraint.type == 'picture' %}selected{% endif %}>Image</option>
                                    <option value="text" {% if block.resourceConstraint.type is defined and block.resourceConstraint.type == 'text' %}selected{% endif %}>Texte</option>
                                </select>
                            </label>
                        </td>
                    </tr>
                {% endif %}
                <tr>
                    <td>
                        <table class="constrBloc">
                            <tr>
                                <td><h5>Liste des filtres de recherche</h5></td>
                            </tr>
                            <tr>
                                <td>
                                    <button type="button" class="js-add-constraint">+</button>
                                </td>
                            </tr>
                            {% set _cptMdc = 0 %}
                            {% for mdc in block.resourceConstraint.metadataConstraints %}

                                {% include '@SimpleITClaireApp/Exercise/ExerciseModel/Component/include/classificationConstraints.html.twig'
                                with {'mdc' : mdc,
                                'keyName' : keyName,
                                'comparatorName' : comparatorName,
                                'valuesName' : valuesName,
                                'cptBlock' : _cptBlock,
                                'cptMdc' : _cptMdc} %}

                                {% set _cptMdc = _cptMdc + 1 %}
                            {% endfor %}
                        </table>
                    <td>
                </tr>
            </table>
        </td>
    </tr>
{% else %}
    <tr>
        <td>
            <table>
                <tr>
                    <td><h4>Contraintes</h4></td>
                </tr>
                <tr>
                    <td><input type="text" size="20" name="type[{{ _cptBlock }}]"/></td>
                </tr>
                <tr>
                    <td>
                        <table class="constrBloc">
                            <tr>
                                <td><h5>Liste des filtres de recherche</h5></td>
                            </tr>
                            <tr>
                                <td>
                                    <button type="button" class="js-add-constraint">+</button>
                                </td>
                            </tr>

                            {% include '@SimpleITClaireApp/Exercise/ExerciseModel/Component/include/classificationConstraints.html.twig'
                            with {'mdc' : NULL,
                            'keyName' : keyName,
                            'comparatorName' : comparatorName,
                            'valuesName' : valuesName,
                            'cptBlock' : _cptBlock,
                            'cptMdc' : 0} %}
                        </table>
                    </td>
                </tr>
            </table>
        </td>
    </tr>
{% endif %}
