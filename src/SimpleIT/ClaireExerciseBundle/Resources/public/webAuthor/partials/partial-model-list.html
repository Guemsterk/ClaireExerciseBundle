<div data-ng-controller="modelController">
    <div class="panel-body" data-ng-controller="modelListController">

        <accordion>
            <accordion-group class="panel panel-primary">
                <accordion-heading class="panel-heading">
                    <div class="row">
                        <div class="col-xs-10">
                            <h4><strong>Mes exercices&nbsp;<span class="caret"></span></strong></h4>
                        </div>
                        <div class="col-xs-1">
                        </div>
                        <div class="col-xs-1 text-center" data-ng-click="createModel()">
                            <h4><strong><span class="glyphicon glyphicon-plus"></span></strong></h4>
                        </div>
                    </div>
                </accordion-heading>
                <div></div>
            </accordion-group>
        </accordion>

        <accordion close-others="true">
            <accordion-group class="panel panel-primary" ng-repeat="model in models">
                <accordion-heading class="panel-heading">
                    <div class="row" ui-draggable="true" drag="model">
                        <div class="col-xs-1" ng-switch="model.type">
                            <div ng-switch-when="multiple-choice">
                                <span class="glyphicon glyphicon-th-list" style="font-size: 260%"></span>
                            </div>
                            <div ng-switch-when="open-ended-question">
                                <span class="glyphicon glyphicon-th-list" style="font-size: 260%"></span>
                            </div>
                            <div ng-switch-when="pair-items">
                                <span class="glyphicon glyphicon-th-list" style="font-size: 260%"></span>
                            </div>
                            <div ng-switch-when="order-items">
                                <span class="glyphicon glyphicon-th-list" style="font-size: 260%"></span>
                            </div>
                            <div ng-switch-when="group-items">
                                <span class="glyphicon glyphicon-th-list" style="font-size: 260%"></span>
                            </div>
                        </div>
                        <div class="col-xs-10">
                            <h4><strong>{{ model.title }}&nbsp;<span class="caret"></span></strong></h4>
                        </div>
                        <div class="col-xs-1">
                            <h4><strong>
                                <span ui-sref="model.edit({ modelid:model.id })" class="glyphicon glyphicon-edit"></span>
                                <span ng-click="deleteModel(model)" class="glyphicon glyphicon-remove"></span>
                            </strong></h4>
                        </div>
                    </div>
                    <div class="row">
                        <div style="margin: 1%;">
                            <label class="panel panel-success" data-ng-repeat="meta in model.metadata track by $index" style="margin: 2px;">
                                &nbsp;<span ui-draggable="true" drag="meta.key">{{ meta.key }}</span>:&nbsp;<span>{{ meta.value }}</span>&nbsp;
                            </label>
                            <label class="panel panel-success" data-ng-repeat="keyword in model.keywords track by $index" style="margin: 2px;">
                                &nbsp;{{ keyword }}&nbsp;
                            </label>
                        </div>

                    </div>
                </accordion-heading>
                <div class="row">
                    <div class="col-xs-6"></div>
                    <div class="col-xs-2">
                        <small><strong>Auteur: {{ model.author }}</strong></small><br>
                        <small><strong>Propriétaire: {{ model.owner }}</strong></small>
                    </div>
                    <div class="col-xs-2">
                        <small><strong>Partagé:&nbsp;
                            <ng-switch on="model.public">
                                <span ng-switch-when="true">Oui</span>
                                <span ng-switch-when="false">Non</span>
                            </ng-switch>
                        </strong></small><br>
                        <small><strong>Archivé:&nbsp;
                            <ng-switch on="model.archived">
                                <span ng-switch-when="true">Oui</span>
                                <span ng-switch-when="false">Non</span>
                            </ng-switch>
                        </strong></small>
                    </div>
                    <div class="col-xs-2">
                        <small><strong>Brouillon:&nbsp;
                            <ng-switch on="model.draft">
                                <span ng-switch-when="true">Oui</span>
                                <span ng-switch-when="false">Non</span>
                            </ng-switch>
                        </strong></small><br>
                        <small><strong>Complet:&nbsp;
                            <ng-switch on="model.complete">
                                <span ng-switch-when="true">Oui</span>
                                <span ng-switch-when="false">Non</span>
                            </ng-switch>
                        </strong></small>
                    </div>
                </div>
            </accordion-group>
        </accordion>

    </div>
</div>
