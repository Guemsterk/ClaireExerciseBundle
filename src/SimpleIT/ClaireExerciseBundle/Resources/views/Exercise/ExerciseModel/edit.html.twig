{% extends "SimpleITClaireExerciseBundle:Exercise:layout.html.twig" %}

{% block content %}
    {% if locked %}
        <div>Édition vérouillée</div>{% endif %}

    <div class="half">
        <h1>Edition de modèle d'exercice : {{ exerciseModel.type }}</h1>

        {{ render(controller('SimpleITClaireExerciseBundle:Exercise/Component/ExerciseModel:editTitleView',{ 'exerciseModelId': exerciseModel.id, 'locked': locked })) }}
        {{ render(controller('SimpleITClaireExerciseBundle:Exercise/Component/ExerciseModel:editDraftView',{ 'exerciseModelId': exerciseModel.id, 'locked': locked })) }}
        {{ render(controller('SimpleITClaireExerciseBundle:Exercise/Component/ExerciseModel:contentEdit',{ 'exerciseModelId': exerciseModel.id, 'locked': locked })) }}
    </div>
    {{ render(controller('SimpleITClaireExerciseBundle:Exercise/Component/RequiredResourceByExerciseModel:editRequiredResourcesView',{ 'exerciseModelId': exerciseModel.id, 'locked': locked })) }}

    <div id="resource-browser" class="half">
        {{ render(controller('SimpleITClaireExerciseBundle:Exercise/Component/OwnerResource:browserView',{ '_exerciseType': exerciseModel.type})) }}
    </div>

    <form action="{{ path('simple_it_claire_component_exercise_exercise_model_duplicate',{ 'exerciseModelId': exerciseModel.id}) }}" method="get">
        <input type="submit" value="Dupliquer le modèle d'exercice">
    </form>

    {% if not locked %}
        <form action="{{ path('simple_it_claire_component_exercise_exercise_model_delete',{ 'exerciseModelId': exerciseModel.id}) }}" method="get">
            <input type="submit" value="Supprimer le modèle d'exercice">
        </form>
    {% endif %}

    <form action="{{ path('simple_it_claire_component_exercise_exercise_model_try',
    { 'exerciseModelId': exerciseModel.id}) }}"
          method="get">
        <input type="submit" value="Visualiser un exemple d'exercice"
               {% if exerciseModel.complete != 1 %}disabled{% endif %}>
    </form>
{% endblock content %}
